<div class="subheader">
	<h1 class="subheader-title">
		<i class='subheader-icon fal fa-plus-circle'></i> Service Requests: <span class='fw-300'>Dashboard</span>
		<small>
			Manage Engine Service Desk++
		</small>
	</h1>
</div>
<div class="row">
	<div class="col-xl-12">
		<div class="input-group input-group-lg mb-g">
			<input type="text" class="form-control shadow-inset-2" placeholder="Search topics">
			<div class="input-group-append">
				<span class="input-group-text"><i class="fal fa-search"></i></span>
			</div>
		</div>
		<div class="card mb-g border shadow-0">
			<div class="card-header bg-white">
				<div class="row no-gutters align-items-center">
					<div class="col">
						<span class="h6 font-weight-bold text-uppercase">General</span>
					</div>
					<div class="col d-flex">
						<a href="javascript:void(0);" class="btn btn-outline-success btn-sm ml-auto mr-2 flex-shrink-0">Add</a>
						<a href="javascript:void(0);" class="btn btn-outline-danger btn-sm flex-shrink-0">Edit</a>
					</div>
				</div>
			</div>
			<div class="card-header bg-white p-0">
				<div class="row no-gutters row-grid align-items-stretch">
					<div class="col-12 col-md">
						<div class="text-uppercase text-muted py-2 px-3">Title</div>
					</div>
					<div class="col-sm-6 col-md-2 col-xl-1 hidden-md-down">
						<div class="text-uppercase text-muted py-2 px-3">Status</div>
					</div>
					<div class="col-sm-6 col-md-3 hidden-md-down">
						<div class="text-uppercase text-muted py-2 px-3">Last posts</div>
					</div>
				</div>
			</div>
			<div class="card-body p-0">
				<div id="viewList" class="row no-gutters row-grid">

				</div>
			</div>
		</div>
	</div>
</div>

<script id="viewCategoryTemplate" type="text/x-handlebars-template">
	<div class="col-12">
		<div class="row no-gutters row-grid align-items-stretch">
			<div class="col-md">
				<div class="p-3">
					<div class="d-flex">
						<span class="icon-stack display-4 mr-3 flex-shrink-0">
							<i class="base-2 icon-stack-3x color-primary-400"></i>
							<i class="base-10 text-white icon-stack-1x"></i>
							<i class="ni md-profile color-primary-800 icon-stack-2x"></i>
						</span>
						<div class="d-inline-flex flex-column">
							<a href="#ticket_list.html?view={{id}}" class="fs-lg fw-500 d-block">
								{{name}}
							</a>
							<div class="d-block text-muted fs-sm">
								text blah blah
							</div>
						</div>
					</div>
				</div>
			</div>
			<div class="col-4 col-md-2 col-xl-1 hidden-md-down">
				<div class="p-3 p-md-3">
					<span class="d-block text-muted">- <i>Un-assigned</i></span>
					<span class="d-block text-muted">- <i>Open</i></span>
				</div>
			</div>
			<div class="col-8 col-md-3 hidden-md-down">
				<div class="p-3 p-md-3">
					<div class="d-flex align-items-center">
						<div class="d-inline-block align-middle status status-success status-sm mr-2">
							<span class="profile-image-md rounded-circle d-block" style="background-image:url('img/demo/avatars/avatar.png'); background-size: cover;"></span>
						</div>
						<div class="flex-1 min-width-0">
							<a href="javascript:void(0);" class="d-block text-truncate">
								latest ticket text
							</a>
							<div class="text-muted small text-truncate">
								Today, 12:12 <a href="javascript:void(0)" class="text-info">userName</a>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</script>

<script>
	function loadViews(){
		var tableHTML = "";
		var templateSource = document.getElementById("viewCategoryTemplate").innerHTML;
		var template = Handlebars.compile(templateSource);
		var ignoredViews = ["ALL_QUEUE","Onhold_User","Overdue_User","All_Pending_Requests_Tasks_User","Due_Today_User","My_Pending_Approval","Open_System","Onhold_System","Overdue_System","Overdue_System_Today","Pending_Approval","All_Pending","All_Completed","Waiting_Update","Updated_By_Me","Share_Pending","Share_All_Requests","missed_chat_requests","closed_chat_requests","2101_MyView","6002_MyView","3901_MyView"];

		$.each(SDPViews, function(requestIndex, requestData){
			if(ignoredViews.indexOf(requestData.id) == -1){
				tableHTML += template(requestData);
			}
		});

		 $("#viewList").html(tableHTML);
	};

	loadViews();
</script>


